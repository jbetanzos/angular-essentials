<div ng-init="regCtrl.saved = false" class="container">
  <div class="form-signin">
    <fieldset>
      <form name="newsletterSignUp" novalidate>
        <div class="form-group">
          <input type="text" class="form-control" name="first_name" placeholder="First Name"
            ng-model="regCtrl.user.firstname"
            required>
        </div>
        <div class="form-group">
          <input type="text" class="form-control" name="last_name" placeholder="Last Name"
            ng-model="regCtrl.user.lastname"
            required>
        </div>
        <div class="form-group">
          <input type="email" class="form-control" name="email" placeholder="Email"
            ng-model="regCtrl.user.email"
            required>
            <span ng-if="newsletterSignUp.email.$invalid && newsletterSignUp.email.$touched">
              Must be a valid email address: handle@domain format
            </span>
            <br>
        </div>
        <div class="form-group">
          <input type="text" class="form-control" name="phone" placeholder="Phone ###-###-####"
            ng-model="regCtrl.user.phone"
            pattern="(\d{3})-(\d{3})-(\d{4})">
            <span ng-if="newsletterSignUp.phone.$invalid && newsletterSignUp.phone.$touched">
              Phone must be in the format ###-###-####.
            </span>
        </div>
        <div class="form-group">
          <input type="text" class="form-control" name="dish" placeholder="Favorite dish"
            ng-model="regCtrl.user.dish"
            required
            dish>
            <span ng-if="newsletterSignUp.dish.$pending.dish">Checking if this is valid...</span>
            <span ng-if="newsletterSignUp.dish.$error.dish">
              No such menu number exists.
            </span>
            <br>
        </div>

        <div ng-if="regCtrl.saved">Your information has been saved.</div>

        <button
          class="btn btn-lg btn-primary btn-block"
          ng-disabled="newsletterSignUp.$invalid || newsletterSignUp.dish.$pending.dish"
          ng-click="regCtrl.submit(newsletterSignUp)">Submit</button>

      </form>
    </fieldset>
  </div>

</div>
